---
id: security-model
title: Security Model
sidebar_position: 4
custom_edit_url: null
---
# Security model
The board is going to be exposed to the user network and because of this the board comes with a security model built-in, since security is one of the principles for Djinn we protect the data with Authorization and Access control, but the board provides security measures built-in like [Secret Managmenement](https://www.cyberark.com/what-is/secrets-management/) and data encryption (On Storage and on Transit).

## Surface Area
The board exposes only the required port and nothing else, this is to reduce the surface area for an attack, the board can read and send signals to the IoT devices, but these devices can't control the functionalities of the board.

## Isolation
The application use k3s to control the infrastructure inside the board, it only exposes the volumes required to store configuration files and the services talk to each other by the service discovery that is provided by k3s, each module is its own container and they are isolated from each other.

At the plugin level, each plugin have a section that is only controlled by them, so plugins are isolated from each other, the plugins can only receive commands and provide a resource definition to the platform, which prevents plugins to control the board or try to access other components.

## Encryption
After the board is installed and rebooting for the first time, it generates a unique encryption key that is stored as a secret in k3s, this encryption key is hidden and is not accessible from the outside world, and is only accessible by the modules that k3s instantiate.

This encryption key is going to be used to encrypt and decrypt all the data that is stored in the database.

## Secure endpoints
All the exposed endpoints are required to use SSL, the gateway and the agent both use gRPC, which supports SSL/TLS for authentication, and the web client which exposes a GraphQL version as well run an HTTPS server, where the certificate is generated by the board. 

> [How to use HTTPS for local development](https://web.dev/how-to-use-local-https/) describes how this can be achieved.

The endpoints that are exposed by the gateway, rely on OAuth authentication, in which the board provides an OAuth Resource and Authentication built-in.